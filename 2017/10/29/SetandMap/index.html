<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="Set 和 Map"/>




  <meta name="keywords" content="set,map," />




  <link rel="alternate" href="/atom.xml" title="Komorebi">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.4.x" />



<link rel="canonical" href="http://yoursite.com/2017/10/29/SetandMap/"/>


<meta name="description" content="ES6 中新增了两种新的数据结构 —— Set 和 Map。">
<meta name="keywords" content="set,map">
<meta property="og:type" content="article">
<meta property="og:title" content="Set 和 Map">
<meta property="og:url" content="http://yoursite.com/2017/10/29/SetandMap/index.html">
<meta property="og:site_name" content="Komorebi">
<meta property="og:description" content="ES6 中新增了两种新的数据结构 —— Set 和 Map。">
<meta property="og:image" content="https://ws1.sinaimg.cn/large/006tNc79gy1fkmquf56y2j314k03qdfw.jpg">
<meta property="og:image" content="https://ws3.sinaimg.cn/large/006tNc79gy1fkmqx1d6kbj314k03oq36.jpg">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/006tNc79gy1fkms0tn6kyj314k08mmxq.jpg">
<meta property="og:image" content="https://ws2.sinaimg.cn/large/006tNc79gy1fkrej2tn0yj314k03mglo.jpg">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/006tNc79gy1fkreq7uhnwj314k03mglz.jpg">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/006tNc79gy1fkrffofhk9j314k0a4t9k.jpg">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/006tNc79gy1fks4qlta05j314k0augmx.jpg">
<meta property="og:updated_time" content="2017-10-24T05:49:28.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Set 和 Map">
<meta name="twitter:description" content="ES6 中新增了两种新的数据结构 —— Set 和 Map。">
<meta name="twitter:image" content="https://ws1.sinaimg.cn/large/006tNc79gy1fkmquf56y2j314k03qdfw.jpg">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.4.x" />



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />





<script>
  var CONFIG = {
    search: true,
    searchPath: "/search.xml",
    fancybox: true,
    toc: true,
  }
</script>




  



    <title> Set 和 Map · Komorebi </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Komorebi</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Komorebi</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              归档
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              标签
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              分类
            
          </a>
        </li>
      
      
        <li class="menu-search">
          <form>
            <i class="iconfont icon-search" id="open-search"></i>
            <input type="text" class="search-input" id="search-input" />
            <i class="iconfont icon-close" id="close-search"></i>
          </form>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Set 和 Map
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2017年10月29日
        </span>
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Set"><span class="toc-text">Set</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#基本用法"><span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#属性和方法"><span class="toc-text">属性和方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#属性"><span class="toc-text">属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法"><span class="toc-text">方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#操作方法"><span class="toc-text">操作方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#遍历方法"><span class="toc-text">遍历方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#转换为数组"><span class="toc-text">转换为数组</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Map"><span class="toc-text">Map</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#基本用法-1"><span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#属性和方法-1"><span class="toc-text">属性和方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#属性-1"><span class="toc-text">属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法-1"><span class="toc-text">方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#操作方法-1"><span class="toc-text">操作方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#遍历方法-1"><span class="toc-text">遍历方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#与其他数据结构互换"><span class="toc-text">与其他数据结构互换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-转为数组"><span class="toc-text">Map 转为数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组转为-Map"><span class="toc-text">数组转为 Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-转为对象"><span class="toc-text">Map 转为对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象转为-Map"><span class="toc-text">对象转为 Map</span></a></li></ol></li></ol></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <p>ES6 中新增了两种新的数据结构 —— Set 和 Map。</p>
<a id="more"></a>
<h1 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h1><p>ES6 提供了新的数据结构 Set。它类似于数组，但是<strong>成员的值都是唯一的，没有重复的值</strong>。</p>
<h2 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h2><p><strong>创建 Set</strong></p>
<p>Set 本身是一个构造函数，调用构造函数用来生成 Set 数据结构。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</div><div class="line"><span class="built_in">console</span>.log( s );</div></pre></td></tr></table></figure>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fkmquf56y2j314k03qdfw.jpg" alt=""></p>
<p><strong>初始化</strong></p>
<p>Set 函数可以接受一个数组（或类似数组的对象）作为参数，用来进行初始化。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>]);</div><div class="line"><span class="built_in">console</span>.log( s );</div></pre></td></tr></table></figure>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fkmqx1d6kbj314k03oq36.jpg" alt=""></p>
<p>通过上面代码运行结果我们可以看到，Set 成员当中如果存在重复的值，会被自动删除掉。</p>
<h2 id="属性和方法"><a href="#属性和方法" class="headerlink" title="属性和方法"></a>属性和方法</h2><p>Set 结构的实例有以下属性和操作方法。</p>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><ul>
<li><code>size</code>：返回 Set 实例的成员总数。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line"><span class="built_in">console</span>.log( s.size );   <span class="comment">// 3</span></div></pre></td></tr></table></figure>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>Set 实例的方法分为两大类：操作方法（用于数据操作）和遍历方法（用于遍历数据）。</p>
<h4 id="操作方法"><a href="#操作方法" class="headerlink" title="操作方法"></a>操作方法</h4><ul>
<li><code>add(value)</code>：添加数据，并返回 Set 结构本身。</li>
<li><code>delete(value)</code>：删除数据，返回一个布尔值，表示是否删除成功。</li>
<li><code>has(value)</code>：查看是否存在某个数据，返回一个布尔值。</li>
<li><code>clear()</code>：清除所有数据，没有返回值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>]); </div><div class="line"><span class="comment">// 添加数据 5</span></div><div class="line"><span class="keyword">let</span> addSet = set.add(<span class="number">5</span>);</div><div class="line"><span class="built_in">console</span>.log(addSet);   <span class="comment">// Set(5) &#123;1, 2, 3, 4, 5&#125;</span></div><div class="line"><span class="comment">// 删除数据 4</span></div><div class="line"><span class="keyword">let</span> delSet = set.delete(<span class="number">4</span>);</div><div class="line"><span class="built_in">console</span>.log(delSet);   <span class="comment">// true</span></div><div class="line"><span class="comment">// 查看是否存在数据 4</span></div><div class="line"><span class="keyword">let</span> hasSet = set.has(<span class="number">4</span>);</div><div class="line"><span class="built_in">console</span>.log(hasSet);   <span class="comment">// false</span></div><div class="line"><span class="comment">// 清除所有数据</span></div><div class="line">set.clear();</div><div class="line"><span class="built_in">console</span>.log(set);      <span class="comment">// Set(0) &#123;&#125;</span></div></pre></td></tr></table></figure>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fkms0tn6kyj314k08mmxq.jpg" alt=""></p>
<h4 id="遍历方法"><a href="#遍历方法" class="headerlink" title="遍历方法"></a>遍历方法</h4><p>Set 提供了三个遍历器生成函数和一个遍历方法。</p>
<ul>
<li><code>keys()</code>：返回一个键名的遍历器。</li>
<li><code>values()</code>：返回一个键值的遍历器。</li>
<li><code>entries()</code>：返回一个键值对的遍历器。</li>
<li><code>forEach()</code>：使用回调函数遍历每个成员。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> color = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>]);</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> color.keys())&#123;</div><div class="line">	<span class="built_in">console</span>.log(item);</div><div class="line">&#125;</div><div class="line"><span class="comment">// red</span></div><div class="line"><span class="comment">// green</span></div><div class="line"><span class="comment">// blue</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> color.values())&#123;</div><div class="line">	<span class="built_in">console</span>.log(item);</div><div class="line">&#125;</div><div class="line"><span class="comment">// red</span></div><div class="line"><span class="comment">// green</span></div><div class="line"><span class="comment">// blue</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> color.entries())&#123;</div><div class="line">	<span class="built_in">console</span>.log(item);</div><div class="line">&#125;</div><div class="line"><span class="comment">// ["red", "red"]</span></div><div class="line"><span class="comment">// ["green", "green"]</span></div><div class="line"><span class="comment">// ["blue", "blue"]</span></div><div class="line"></div><div class="line">color.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</div><div class="line">	<span class="built_in">console</span>.log(item)</div><div class="line">&#125;)</div><div class="line"><span class="comment">// red</span></div><div class="line"><span class="comment">// green</span></div><div class="line"><span class="comment">// blue</span></div></pre></td></tr></table></figure>
<p>说明：</p>
<p>上例代码中，<code>entries()</code>方法返回的遍历器，同时包括了键名和键值，所以每次输出一个数组，它的两个成员完全相等。</p>
<h2 id="转换为数组"><a href="#转换为数组" class="headerlink" title="转换为数组"></a>转换为数组</h2><p><strong>扩展运算符</strong></p>
<p>由于扩展运算符<code>...</code>内部的原理也是使用的<code>for-of</code>循环，所以也可以用于操作 Set 结构。</p>
<p>例如将 Set 结构转换为数组结构：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> color = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>]);</div><div class="line"><span class="keyword">let</span> colorArr = [...color];</div></pre></td></tr></table></figure>
<p><strong>数组剔重</strong></p>
<p>扩展运算符和 Set 结构相结合，就可以去除数组的重复成员。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>];</div><div class="line"><span class="keyword">let</span> unique = [...new <span class="built_in">Set</span>(arr)];     <span class="comment">// [1, 2, 3]</span></div></pre></td></tr></table></figure>
<h1 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h1><p>JavaScript 中的对象（Object），本质上是键值对的集合，但是只能用字符串来做键名。这给它的使用带来了很大的限制。</p>
<p>为了解决这个问题，ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。</p>
<p>也就是说，Object 结构提供了“字符串 - 值”的对应，Map 结构提供了“值 - 值”的对应，是一种更完善的 JSON 数据结构的实现。如果你需要“键值对”的数据结构，Map 比 Object 更合适。</p>
<h2 id="基本用法-1"><a href="#基本用法-1" class="headerlink" title="基本用法"></a>基本用法</h2><p><strong>创建 Map</strong></p>
<p>Map 本身是一个构造函数，调用构造函数用来生成 Map 数据结构。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line"><span class="built_in">console</span>.log( m );</div></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fkrej2tn0yj314k03mglo.jpg" alt=""></p>
<p><strong>初始化</strong></p>
<p>Map 函数也可以接受一个数组（或类似数组的对象）作为参数，用来进行初始化。但是跟 Set 不同的是，Map 中该数组中的成员是一对对表示键值对的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">"name"</span>, <span class="string">"zhangsan"</span>], [<span class="string">"age"</span>, <span class="number">20</span>]]);</div><div class="line"><span class="built_in">console</span>.log( m );</div></pre></td></tr></table></figure>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fkreq7uhnwj314k03mglz.jpg" alt=""></p>
<h2 id="属性和方法-1"><a href="#属性和方法-1" class="headerlink" title="属性和方法"></a>属性和方法</h2><p>Map 结构的实例有以下属性和方法。</p>
<h3 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h3><ul>
<li><code>size</code>：返回 Map 结构的成员总数。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">"name"</span>, <span class="string">"zhangsan"</span>], [<span class="string">"age"</span>, <span class="number">20</span>]]);</div><div class="line"><span class="built_in">console</span>.log( m.size );</div></pre></td></tr></table></figure>
<h3 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h3><p>Map 实例的方法也分为了两大类：操作方法（用于数据操作）和遍历方法（用于遍历数据）。</p>
<h4 id="操作方法-1"><a href="#操作方法-1" class="headerlink" title="操作方法"></a>操作方法</h4><ul>
<li><code>set(key, value)</code>：添加或修改数据。设置<code>key</code>所对应的键值，并返回 Map 结构本身。</li>
<li><code>get(key)</code>：获取数据。读取<code>key</code>对应的键值，如果找不到<code>key</code>，返回<code>undefined</code>。</li>
<li><code>has(key)</code>：查看是否存在某个数据，返回一个布尔值。</li>
<li><code>delete(key)</code>：删除数据。删除成功返回<code>true</code>。</li>
<li><code>clear()</code>：清除所有数据，没有返回值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">"name"</span>, <span class="string">"zhangsan"</span>], [<span class="string">"age"</span>, <span class="number">20</span>]]);</div><div class="line"><span class="comment">// 设置 name 的值为 lisi</span></div><div class="line">map.set(<span class="string">"name"</span>, <span class="string">"lisi"</span>);</div><div class="line"><span class="built_in">console</span>.log( map );       <span class="comment">// Map(2) &#123;"name" =&gt; "lisi", "age" =&gt; 20&#125;</span></div><div class="line"><span class="comment">// 获取 name 对应的值</span></div><div class="line"><span class="keyword">let</span> getMap = map.get(<span class="string">"name"</span>);</div><div class="line"><span class="built_in">console</span>.log( getMap );    <span class="comment">// lisi</span></div><div class="line"><span class="comment">// 查看是否存在 age</span></div><div class="line"><span class="keyword">let</span> hasMap = map.has(<span class="string">"age"</span>);</div><div class="line"><span class="built_in">console</span>.log( hasMap );    <span class="comment">// true</span></div><div class="line"><span class="comment">// 删除 age 键值对</span></div><div class="line"><span class="keyword">let</span> delMap = map.delete(<span class="string">"age"</span>);</div><div class="line"><span class="built_in">console</span>.log( delMap );    <span class="comment">// true</span></div><div class="line"><span class="comment">// 清空所有数据</span></div><div class="line">map.clear();</div><div class="line"><span class="built_in">console</span>.log(map);         <span class="comment">// Map(0) &#123;&#125;</span></div></pre></td></tr></table></figure>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fkrffofhk9j314k0a4t9k.jpg" alt=""></p>
<h4 id="遍历方法-1"><a href="#遍历方法-1" class="headerlink" title="遍历方法"></a>遍历方法</h4><p>Map 提供了三个遍历器生成函数和一个遍历方法。</p>
<ul>
<li><code>keys()</code>：返回一个键名的遍历器。</li>
<li><code>values()</code>：返回一个键值的遍历器。</li>
<li><code>entries()</code>：返回一个键值对的遍历器。</li>
<li><code>forEach()</code>：使用回调函数遍历每个成员。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> num = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">"one"</span>, <span class="number">1</span>], [<span class="string">"two"</span>, <span class="number">2</span>], [<span class="string">"three"</span>, <span class="number">3</span>]]);</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">of</span> num.keys())&#123;</div><div class="line">	<span class="built_in">console</span>.log(key);</div><div class="line">&#125;</div><div class="line"><span class="comment">// one</span></div><div class="line"><span class="comment">// two</span></div><div class="line"><span class="comment">// three</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> num.values())&#123;</div><div class="line">	<span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 3</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> num.entries())&#123;</div><div class="line">	<span class="built_in">console</span>.log(item[<span class="number">0</span>], item[<span class="number">1</span>]);</div><div class="line">&#125;</div><div class="line"><span class="comment">// one 1</span></div><div class="line"><span class="comment">// two 2</span></div><div class="line"><span class="comment">// three 3</span></div><div class="line"></div><div class="line"><span class="comment">// 或者</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [key, value] <span class="keyword">of</span> num.entries())&#123;</div><div class="line">	<span class="built_in">console</span>.log(key, value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// one 1</span></div><div class="line"><span class="comment">// two 2</span></div><div class="line"><span class="comment">// three 3</span></div><div class="line"></div><div class="line">num.forEach(<span class="function">(<span class="params">value, key</span>) =&gt;</span> &#123;</div><div class="line">	<span class="built_in">console</span>.log(value, key)</div><div class="line">&#125;)</div><div class="line"><span class="comment">// 1 one</span></div><div class="line"><span class="comment">// 2 two</span></div><div class="line"><span class="comment">// 3 three</span></div></pre></td></tr></table></figure>
<h2 id="与其他数据结构互换"><a href="#与其他数据结构互换" class="headerlink" title="与其他数据结构互换"></a>与其他数据结构互换</h2><h3 id="Map-转为数组"><a href="#Map-转为数组" class="headerlink" title="Map 转为数组"></a>Map 转为数组</h3><p>Map 转为数组最方便的方法，就是使用扩展运算符<code>...</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line">myMap</div><div class="line">	.set(<span class="literal">true</span>, <span class="string">"真"</span>)</div><div class="line">	.set(<span class="literal">false</span>, <span class="string">"假"</span>)</div><div class="line"><span class="built_in">console</span>.log(myMap);   <span class="comment">// &#123;true =&gt; "真", false =&gt; "假"&#125;</span></div><div class="line"><span class="keyword">let</span> newMap = [...myMap];</div><div class="line"><span class="built_in">console</span>.log(newMap);  <span class="comment">// [[true, "真"], [false, "假"]]</span></div></pre></td></tr></table></figure>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fks4qlta05j314k0augmx.jpg" alt=""></p>
<h3 id="数组转为-Map"><a href="#数组转为-Map" class="headerlink" title="数组转为 Map"></a>数组转为 Map</h3><p>将数组传入 Map 构造函数中，就可以转为 Map。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> arr = [[<span class="literal">true</span>, <span class="string">"真"</span>], [<span class="literal">false</span>, <span class="string">"假"</span>]];</div><div class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(arr);</div><div class="line"><span class="built_in">console</span>.log(map);   <span class="comment">// &#123;true =&gt; "真", false =&gt; "假"&#125;</span></div></pre></td></tr></table></figure>
<h3 id="Map-转为对象"><a href="#Map-转为对象" class="headerlink" title="Map 转为对象"></a>Map 转为对象</h3><p>如果 Map 所有的键都是字符串，它就可以转为对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">strMapToObj</span>(<span class="params">strMap</span>)</span>&#123;</div><div class="line">	<span class="keyword">let</span> obj = &#123;&#125;;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> [k, v] <span class="keyword">of</span> strMap)&#123;</div><div class="line">		obj[k] = v;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> obj;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="string">"green"</span>,<span class="string">"绿"</span>).set(<span class="string">"red"</span>,<span class="string">"红"</span>);</div><div class="line"><span class="built_in">console</span>.log(myMap);                  <span class="comment">// &#123;"green" =&gt; "绿", "red" =&gt; "红"&#125;</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log( strMapToObj(myMap) );   <span class="comment">// &#123;green: "绿", red: "红"&#125;</span></div></pre></td></tr></table></figure>
<h3 id="对象转为-Map"><a href="#对象转为-Map" class="headerlink" title="对象转为 Map"></a>对象转为 Map</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">objToStrMap</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">	<span class="keyword">let</span> strMap = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">in</span> obj)&#123;</div><div class="line">		strMap.set( item, obj[item] )</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> strMap;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">"zhangsan"</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;;</div><div class="line"><span class="built_in">console</span>.log( objToStrMap(obj) );    <span class="comment">// &#123;"name" =&gt; "zhangsan", "age" =&gt; 20&#125;</span></div></pre></td></tr></table></figure>

      
    </div>

    
      
      



      
      
  <div class="post-reward">
    <input type="checkbox" name="reward" id="reward" hidden />
    <label class="reward-button" for="reward">赞赏支持</label>
    <div class="qr-code">
      
      
        <label class="qr-code-image" for="reward">
          <img class="image" src="https://ws2.sinaimg.cn/large/006tKfTcgy1fi12xd8ywlj30j20j1mz1.jpg" title="wechat">
        </label>
      
      
        <label class="qr-code-image" for="reward">
          <img class="image" src="https://ws3.sinaimg.cn/large/006tKfTcgy1fi130oybncj30ad0addgn.jpg" title="alipay">
        </label>
      
    </div>
  </div>

    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/set/">set</a>
            
              <a href="/tags/map/">map</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2017/11/03/httpWork/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">一次完整的 http 事务</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    
    
      <a class="next" href="/2017/10/15/this/">
        <span class="next-text nav-default">JavaScript 中的 this</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>

  <div id="gitmentContainer"></div>
  <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
  <script>
  var gitment = new Gitment({
      owner: 'runJaelyn',
      repo: 'runJaelyn.github.io',
      oauth: {
          client_id: '82eade5c20915f7d2145',
          client_secret: '5edb8f42b6dfe9846b1e7eca5df3d6323683f116',
      },
  });
  gitment.render('gitmentContainer');
  </script>
  


        </div>  
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:your@email.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    
    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>


<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2015 - 
    
    2017

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Jaelyn</span>
  </span>
</div>
      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  



    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.4.x"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.4.x"></script>

    
  <script type="text/html" id="search-result">
    <article class="post">
      <header class="post-header">
        <h1 class="post-title">
          <a href="$url$" class="post-link">
            $title$
          </a>
        </h1>
      </header>
      <div class="post-content">
        $content$
        <div class="read-more">
          <a href="$url$" class="read-more-link">
            阅读更多
          </a>
        </div>
      </div>
    </article>
  </script>
  <script type="text/html" id="no-search-result">
    <div class="no-result">
      <h2>No result found!</h2>
    </div>
  </script>
  <script type="text/javascript" src="/js/src/search.js?v=2.4.x"></script>

  </body>
</html>
